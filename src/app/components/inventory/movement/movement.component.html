<!-- Container-fluid starts-->
<div class="container-fluid">
  <div class="row">
    <div class="col-sm-12">
      <div class="card">
        <div class="card-body">
          <div class="">
            <div class="row">
              <div class="col-12 col-sm-4 col-md-4 form-group">
                <div class="col-12 md:col-4">
                  <label class="form-label"> buscar</label>
                  <div class="p-inputgroup">
                    <span class="p-inputgroup-addon"><i class="pi pi-search"></i></span>
                    <input
                      pInputText
                      type="text"
                      class="filter-ngx form-control"
                      placeholder="Search..."
                      autocomplete="off"
                      [(ngModel)]="search"
                      (input)="onSearch(search)"
                      [style]="{ width: '100%' }"
                    />
                  </div>
                </div>
              </div>

              <div class="col-12 col-sm-4 col-md-4 form-group">
                <div class="col-12 md:col-4">
                  <label for="range" class="form-label">Rango de fecha(inicio - fin)</label>
                  <div class="p-inputgroup">
                    <p-calendar
                      [(ngModel)]="rangeDates"
                      selectionMode="range"
                      [readonlyInput]="true"
                      [showIcon]="true"
                      inputId="range"
                      [style]="{ width: '100%' }"
                      inputId="icon"
                      dateFormat="dd/mm/yy"
                      (ngModelChange)="onSelect()"
                      showButtonBar="true"
                      inputId="buttonbar"
                    ></p-calendar>
                  </div>
                </div>
              </div>

              <div class="col-12 col-sm-4 col-md-4">
                <br />
                <a type="button" class="btn btn-primary" routerLink="/sales/new-sale"
                  ><i class="pi pi-plus"></i> Nueva Venta
                </a>
              </div>
            </div>
          </div>
          <div class="category-table custom-datatable">
            <div class="table-responsive">
              <p-table
                #table
                [value]="movement"
                [rows]="10"
                styleClass="p-datatable-sm"
                [tableStyle]="{ 'min-width': '50rem' }"
                [lazy]="true"
              >
                <ng-template pTemplate="header">
                  <tr>
                    <th>Serie</th>
                    <th>Documento</th>
                    <th>Moneda</th>
                    <th>Fecha Registro</th>
                    <th>Cantidad</th>
                    <th>Ope. Grabada</th>
                    <th>Ope. Exonerada</th>
                    <th>Ope. Inafecta</th>
                    <th>IGV</th>
                    <th>Total</th>
                    <th style="width: 1rem">Accion</th>
                  </tr>
                </ng-template>
                <ng-template pTemplate="body" let-sale>
                  <tr>
                    <td>{{ sale.serie }} - {{ sale.number }}</td>
                    <td>{{ sale.type }}</td>
                    <td>{{ sale.currency }}</td>
                    <td>{{ sale.issue_date | date : "dd/MM/yyyy" }}</td>
                    <td>{{ sale.quantity }}</td>
                    <td>{{ sale.recorded_operation }}</td>
                    <td>{{ sale.unaffected_operation }}</td>
                    <td>{{ sale.exempt_operation }}</td>
                    <td>{{ sale.igv }}</td>
                    <td>{{ sale.total }}</td>
                    <td>
                      <a href="javascript:void(0)"><i class="fa fa-edit f-12"></i></a>
                    </td>
                  </tr>
                </ng-template>
                <ng-template pTemplate="emptymessage">
                  <tr>
                    <td colspan="12">No se encontraron registros</td>
                  </tr>
                </ng-template>
              </p-table>
              <p-paginator
                [rows]="10"
                (onPageChange)="paginate($event)"
                [rowsPerPageOptions]="[10, 25, 50]"
                [totalRecords]="totalRecords"
                [showCurrentPageReport]="true"
                currentPageReportTemplate="  {first} a {last} de {totalRecords} registros"
              ></p-paginator>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- Container-fluid Ends-->
</div>
<ngx-spinner
  bdColor="rgba(0, 0, 0, 0.8)"
  [fullScreen]="true"
  template="<img src='../../../../assets/images/pacma.gif' />"
>
  <br />
  <br />
  <br />
  <br />
  <br />
  <p style="color: aliceblue">Cargando........</p>
</ngx-spinner>
